# read caps correctly - h / w / d
# handle split buffers
# adapt buffers - remove extra copy?